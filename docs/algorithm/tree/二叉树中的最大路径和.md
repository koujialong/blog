# 二叉树中的最大路径和 LC124

## 题目
二叉树中的 路径 被定义为一条节点序列，序列中每对相邻节点之间都存在一条边。同一个节点在一条路径序列中 至多出现一次 。该路径 至少包含一个 节点，且不一定经过根节点。

路径和 是路径中各节点值的总和。

给你一个二叉树的根节点 root ，返回其 最大路径和 。

---
![img](/img/124.png)
- 输入：root = [-10,9,20,null,null,15,7]
- 输出：42
- 解释：最优路径是 15 -> 20 -> 7 ，路径和为 15 + 20 + 7 = 42

## 题解
```javascript
/**
 * @param {TreeNode} root
 * @return {number}
 */
var maxPathSum = function (root) {
  let res = -Infinity;
  // 扫描树
  function scanTree(root) {
    if (root === null) {
      return 0;
    }
    // 左边贡献值,大于0才有价值
    const l = Math.max(scanTree(root.left), 0);
    // 右边贡献值,大于0才有价值
    const r = Math.max(scanTree(root.right), 0);
    // 当前节点向下最大值和res判断大小
    res = Math.max(l + r + root.val, res);
    // 当前节点向上连接为当前节点加上 左右分支较大贡献值因为只能连接一边
    return root.val + Math.max(l, r);
  }

  scanTree(root);
  return res;
};
```
